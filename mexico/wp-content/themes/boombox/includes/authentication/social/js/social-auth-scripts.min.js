function OnGoogleAuth(t){var o=jQuery(this).closest(".authentication"),a=o.hasClass("is-nsfw-auth"),e=ajax_social_auth_object.register_redirect_url;t.status.signed_in&&"PROMPT"==t.status.method?(o.find("p.status").show().text(ajax_social_auth_object.loading_message),jQuery.post(ajax_social_auth_object.ajaxurl,{action:"boombox_social_auth",social_type:"google",access_token:t.access_token,_nonce:ajax_social_auth_object.nonce},function(t){var i=jQuery.parseJSON(t);return""!=i.error?o.find("p.status").show().text(i.error):(a&&(e=ajax_social_auth_object.nsfw_redirect_url),"login"==i.action&&(e=ajax_social_auth_object.login_redirect_url),document.location.href=e,void 0)})):"immediate_failed"!=t.error&&o.find("p.status").show().text(ajax_social_auth_object.login_failed)}jQuery(function(t){"use strict";t(document).on("click",".facebook-login-button-js",function(){if(boombox_fb_app_validity){var o=t(this).closest(".authentication");o.hasClass("is-nsfw-auth"),ajax_social_auth_object.register_redirect_url;return o.find("p.status").show().text(ajax_social_auth_object.loading_message),FB.login(function(a){"connected"==a.status?(o.find("p.status").show().text(ajax_social_auth_object.login_success_wait),t.post(ajax_social_auth_object.ajaxurl,{action:"boombox_social_auth",social_type:"facebook",redirect_url:ajax_social_auth_object.login_redirect_url,access_token:a.authResponse.accessToken,_nonce:ajax_social_auth_object.nonce},function(a){var e=t.parseJSON(a);return""!=e.error?o.find("p.status").show().text(e.error):void(document.location.href=ajax_social_auth_object.login_redirect_url)})):o.find("p.status").show().text(ajax_social_auth_object.login_failed)},{scope:"email"}),!1}}),t(document).on("click",".google-login-button-js",function(){var t={clientid:ajax_social_auth_object.google_oauth_id,cookiepolicy:"single_host_origin",callback:"OnGoogleAuth",scope:"email profile"};return gapi.auth.signIn(t),!1})});