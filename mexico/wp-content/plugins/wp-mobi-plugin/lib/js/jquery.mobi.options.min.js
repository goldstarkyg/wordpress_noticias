function mobiwp_draggable(){jQuery(".mobiwp-sortable").sortable({handle:".hndle",placeholder:"ui-state-highlight",stop:function(e,i){jQuery(i.item).removeClass("mobiwp-widget")}}),jQuery("#mobiwp-draggable-right .inside").droppable({activeClass:"ui-state-default",hoverClass:"ui-state-hover",accept:".mobiwp-widget",drop:function(e,i){var o=jQuery(i.draggable);o.removeClass("mobiwp-widget"),jQuery(".mobiwp-placeholder").hide(),o.find("select,input,textarea").each(function(){getName=jQuery(this).data("name"),"undefined"!=typeof getName&&jQuery(this).attr("name",getName)}),o.find(".mobiwp-icon-group").select2({placeholder:"Select Icon Group"}).on("change",function(e){"fontawesome"==e.val?(jQuery(this).closest("table").find(".mobiwp-icon-ionicons").hide(),jQuery(this).closest("table").find(".mobiwp-icon-fontawesome").show()):"ionicons"==e.val&&(jQuery(this).closest("table").find(".mobiwp-icon-fontawesome").hide(),jQuery(this).closest("table").find(".mobiwp-icon-ionicons").show()),jQuery(this).closest("table").find(".mobiwp-icon-selection").css({visibility:"visible"})}),o.find(".mobiwp-icon-fontawesome").select2({placeholder:"Select Icon",allowClear:!0,formatResult:mobiwp_icon_fontawesome,formatSelection:mobiwp_icon_fontawesome,escapeMarkup:function(e){return e}}),o.find(".mobiwp-icon-ionicons").select2({placeholder:"Select Icon",allowClear:!0,formatResult:mobiwp_icon_ionicons,formatSelection:mobiwp_icon_ionicons,escapeMarkup:function(e){return e}}),jQuery(this).find(".mobiwp-sortable").append(o)},over:function(e,i){}}),jQuery(".mobiwp-draggable-left .mobiwp-widget").draggable({connectToSortable:".mobiwp-sortable",helper:"clone",revert:"invalid"})}function mobiwp_font_select(){jQuery(".mobiwp-draggable-right .mobiwp-icon-group, .mobiwp-menu-customizer .mobiwp-icon-group").select2({placeholder:"Select Icon Group"}).on("change",function(e){"fontawesome"==e.val?(jQuery(this).closest("table").find(".mobiwp-icon-ionicons").hide(),jQuery(this).closest("table").find(".mobiwp-icon-fontawesome").show()):"ionicons"==e.val&&(jQuery(this).closest("table").find(".mobiwp-icon-fontawesome").hide(),jQuery(this).closest("table").find(".mobiwp-icon-ionicons").show()),jQuery(this).closest("table").find(".mobiwp-icon-selection").css({visibility:"visible",position:"relative"})}),jQuery(".mobiwp-draggable-right .mobiwp-icon-fontawesome, .mobiwp-menu-customizer .mobiwp-icon-fontawesome").select2({placeholder:"Select Icon",allowClear:!0,formatResult:mobiwp_icon_fontawesome,formatSelection:mobiwp_icon_fontawesome,escapeMarkup:function(e){return e}}),jQuery(".mobiwp-draggable-right .mobiwp-icon-ionicons, .mobiwp-menu-customizer .mobiwp-icon-ionicons").select2({placeholder:"Select Icon",allowClear:!0,formatResult:mobiwp_icon_ionicons,formatSelection:mobiwp_icon_ionicons,escapeMarkup:function(e){return e}})}function mobiwp_icon_fontawesome(e){return e.id?"<i class='fa "+e.id+"'></i> | "+e.text:e.text}function mobiwp_icon_ionicons(e){return e.id?"<i class='mobi-ion "+e.id+"'></i> | "+e.text:e.text}!function(e){if(jQuery(".mobiwp-colorpicker").wpColorPicker(),mobiwp_draggable(),jQuery(".mobiwp-select2").select2(),jQuery("#mobiwp-main").select2().on("change",function(i){e(".mobiwp-menu-wrap").fadeOut("fast");var o=i.val;"undefined"!=typeof o&&o.length>0?jQuery.ajax({type:"POST",url:mobiwpAjax.ajaxurl,data:{action:"mobiwp_get_menu_items",term_id:i.val},success:function(i){e(".mobiwp-draggable-left").html(i),e(".mobiwp-menu-wrap").fadeIn("fast"),mobiwp_draggable()}}):(e(".mobiwp-menu-wrap").fadeIn("fast"),alert("Please Select Main Menu. Thanks!"))}),mobiwp_font_select(),jQuery("#mobiwp-popup-menu").select2().on("change",function(i){var o=i.val;"undefined"!=typeof o&&o.length>0?jQuery.ajax({type:"POST",url:mobiwpAjax.ajaxurl,data:{action:"mobiwp_get_menu_items",term_id:i.val,usage:"popup"},success:function(e){jQuery(".mobiwp-menu-customizer").html(e),mobiwp_font_select()}}):(e(".mobiwp-menu-wrap").fadeIn("fast"),alert("Please Select Navigation Menu. Thanks!"))}),jQuery(document).on("click",".handlediv-mobiwp, .mobiwp-menu-customizer .mobiwp-widget-top .hndle",function(){jQuery(this).parent(".mobiwp-widget-top").parent("div").find(".mobiwp-widget-inside").slideToggle(400)}),jQuery(document).on("click",".mobi-remove-this",function(e){jQuery(this).closest(".mobiwp-widget-sortable").slideToggle(350,function(){jQuery(this).remove()}),e.preventDefault()}),jQuery(document).on("click",".mobiwp-visibility-check",function(){this.checked?visibility=1:visibility=0,jQuery(this).parent("td").find(".mobiwp-visibility-input").val(visibility)}),jQuery(document).on("click","#mobiwp-social-custom",function(){this.checked?jQuery(".for-social-custom").fadeIn():jQuery(".for-social-custom").fadeOut("fast")}),jQuery(".mobiwp_media_upload").length>0){var i;jQuery("body").on("click",".mobiwp_media_upload",function(e){e.preventDefault();jQuery(this).closest(".widget").attr("id");i=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),i.on("select",function(){attachment=i.state().get("selection").first().toJSON(),jQuery("input#mobiwp_image_assigned").val(attachment.url)}),i.open()}),jQuery(".mobiwp_remove_image").on("click",function(){jQuery("input#mobiwp_image_assigned").val(""),jQuery("div.wpgldpnl_media_image").html("")})}}(jQuery);